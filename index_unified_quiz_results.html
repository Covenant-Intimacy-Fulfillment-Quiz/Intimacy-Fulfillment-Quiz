
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Discover Your Top Intimacy Needs</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background-color: #FFF9F2;
      color: #1A3C5E;
      padding: 20px;
      max-width: 700px;
      margin: auto;
    }
    h1, h2 {
      text-align: center;
      color: #FF4D4D;
    }
    .question {
      display: none;
    }
    .question.active {
      display: block;
    }
    .progress {
      text-align: center;
      margin-bottom: 20px;
      font-weight: bold;
    }
    label {
      display: block;
      margin: 10px 0;
      background-color: #F5F5F5;
      padding: 8px 12px;
      border-radius: 6px;
      cursor: pointer;
    }
    input[type="radio"] {
      margin-right: 8px;
    }
    #nextButton, #submitButton {
      background-color: #4D9DE0;
      color: white;
      border: none;
      padding: 12px 24px;
      font-size: 16px;
      border-radius: 5px;
      cursor: pointer;
      display: block;
      margin: 20px auto;
    }
    #resultSection {
      display: none;
      margin-top: 30px;
    }
    canvas {
      display: block;
      margin: 0 auto 30px;
      max-width: 100%;
    }
    .result-block {
      margin-bottom: 20px;
      padding: 15px;
      background: #f0f4f9;
      border-left: 5px solid #4D9DE0;
    }
  </style>
</head>
<body>
  <h1>What Are Your Top Intimacy Needs?</h1>
  <div class="progress" id="progressText">Question 1 of 24</div>
  <form id="quizForm">
    <div id="quiz"></div>
    <button type="button" id="nextButton">Next</button>
  </form>

  <div id="resultSection">
    <h2>Your Personalized Intimacy Profile</h2>
    <canvas id="resultsChart" width="400" height="400"></canvas>
    <div id="resultBreakdown"></div>
    <form style="text-align:center; margin-top: 30px;">
      <label for="email">Want your results emailed to you?</label>
      <input type="email" id="email" placeholder="Enter your email" required>
      <button type="submit" id="submitButton">Send Results</button>
    </form>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script>
    const questions = [
      ["When do you feel most spiritually connected in your relationship?",
        "When we pray or reflect on our faith together", "When we open up about our feelings and share struggles",
        "When we align values and commit to each other", "When we express love through caring actions",
        "Spiritual", "Emotional", "Commitment", "Service"],
      ["What kind of conversation brings you the most joy?",
        "Dreaming and strategizing future goals together", "Debating big ideas or reading side-by-side",
        "Creating a project or brainstorming ideas", "Joking, laughing, and telling silly stories",
        "Intellectual", "Intellectual", "Creative", "Affability"],
      ["When do you feel most cared for?",
        "When my partner helps me with practical tasks", "When we cuddle or share physical affection",
        "When we worship or read Scripture together", "When we’re truly emotionally honest",
        "Service", "Physical", "Spiritual", "Emotional"],
      ["What builds trust the most for you?",
        "When we align financially and make joint decisions", "When we talk through conflict calmly and kindly",
        "When we’re committed no matter what", "When we show up and follow through with chores",
        "Financial", "Emotional", "Commitment", "Partnership"],
      ["What’s your ideal date?",
        "Board game night or fun outing with laughter", "Romantic evening with affection or intimacy",
        "Serving or volunteering together", "Having a deep heart-to-heart conversation",
        "Affability", "Physical", "Service", "Emotional"],
      ["What makes you feel most secure?",
        "Long-term commitment and loyalty", "Touch, cuddling, or sex", "Praying together and shared values", "Daily teamwork at home",
        "Commitment", "Sexual", "Spiritual", "Partnership"],
      ["What kind of connection do you crave when stressed?",
        "Intellectual reassurance and strategy", "Physical closeness or sex", "Emotional comfort and empathy", "Prayer or spiritual guidance",
        "Intellectual", "Physical", "Emotional", "Spiritual"],
      ["How do you enjoy bonding with your spouse?",
        "Working together creatively or around the house", "Engaging deep philosophical conversations", "Planning finances or budgeting", "Spontaneous fun together",
        "Creative", "Intellectual", "Financial", "Recreational"],
      ["What moment would make you smile the most?",
        "They do something for me without being asked", "They grab my hand or kiss me affectionately", "They surprise me with a spiritual insight or encouragement", "They invite me on a fun, playful date",
        "Service", "Physical", "Spiritual", "Recreational"],
      ["What turns you off in a relationship?",
        "Being ignored or emotionally dismissed", "Lack of affection or sexual connection", "Lack of shared spiritual values", "Feeling like I do all the work",
        "Emotional", "Sexual", "Spiritual", "Partnership"],
      ["How do you know your spouse is for you?",
        "They express commitment to stay and grow with me", "They prioritize intimacy and pursue me", "They offer to help or make my life easier", "They spend time having fun with me",
        "Commitment", "Sexual", "Service", "Recreational"],
      ["When do you feel like a team?",
        "We split responsibilities fairly", "We create or build something together", "We agree on spiritual goals", "We dream and brainstorm life decisions",
        "Partnership", "Creative", "Spiritual", "Intellectual"],
      ["What shows love best to you?",
        "Cuddling, kissing, or making love", "Spending time being silly and laughing", "They pray for me or speak faith into my life", "They take emotional risks and open up",
        "Physical", "Affability", "Spiritual", "Emotional"],
      ["What do you value in a long-term marriage?",
        "Mutual faith and devotion to God", "Working as a team to achieve goals", "Shared values, routines, and loyalty", "Ongoing romance and sexual connection",
        "Spiritual", "Partnership", "Commitment", "Sexual"],
      ["How do you best express love?",
        "Through service and taking care of practical things", "By enjoying hobbies or games together", "Through creativity—projects, writing, or music", "Through physical touch or sexual affection",
        "Service", "Recreational", "Creative", "Physical"],
      ["What kind of presence means the most?",
        "They emotionally show up and hear my heart", "They plan a getaway or fun event", "They touch me gently or with intention", "They spiritually encourage and pray with me",
        "Emotional", "Recreational", "Physical", "Spiritual"],
      ["Which best describes your ideal relationship rhythm?",
        "Faith-centered with shared spiritual disciplines", "Emotionally safe and consistently affectionate", "Mentally stimulating with deep discussion", "Productive and creative in building something",
        "Spiritual", "Emotional", "Intellectual", "Creative"],
      ["What makes you feel prioritized?",
        "They support my goals financially and practically", "They plan sexual intimacy and pursue it", "They show consistent commitment even during conflict", "They enjoy spending lighthearted time with me",
        "Financial", "Sexual", "Commitment", "Affability"],
      ["What disappoints you most?",
        "Lack of fun or laughter", "No time for emotional sharing", "No physical or sexual contact", "No follow-through on shared responsibilities",
        "Affability", "Emotional", "Sexual", "Partnership"],
      ["What makes you proud of your relationship?",
        "How we live out our spiritual values", "How we resolve conflict emotionally and respectfully", "How we support each other’s responsibilities", "How we plan our future and stay on track",
        "Spiritual", "Emotional", "Service", "Financial"],
      ["What fills your love tank?",
        "Physical affection", "Verbal affirmation and emotional empathy", "Shared commitment and loyalty", "Spontaneous recreation or laughter",
        "Physical", "Emotional", "Commitment", "Recreational"],
      ["Which routine brings joy?",
        "Spiritual rituals or worship together", "Creative activities or projects", "Serving each other in daily life", "Making future plans and discussing values",
        "Spiritual", "Creative", "Service", "Intellectual"],
      ["What best represents your love language?",
        "Touch and physical closeness", "Kind acts and service", "Time spent discussing and learning", "Shared spiritual connection",
        "Physical", "Service", "Intellectual", "Spiritual"],
      ["When are you most confident in your relationship?",
        "When we resolve emotions with care", "When we share and dream goals", "When we commit and forgive consistently", "When we play and enjoy life",
        "Emotional", "Intellectual", "Commitment", "Affability"]
    ];

    const scores = {
      Spiritual: 0, Emotional: 0, Commitment: 0,
      Intellectual: 0, Financial: 0, Partnership: 0,
      Physical: 0, Sexual: 0,
      Recreational: 0, Affability: 0,
      Service: 0, Creative: 0
    };

    const quizDiv = document.getElementById("quiz");
    const progressText = document.getElementById("progressText");
    const nextButton = document.getElementById("nextButton");
    const resultSection = document.getElementById("resultSection");

    let currentQuestion = 0;

    questions.forEach((q, i) => {
      const div = document.createElement("div");
      div.classList.add("question");
      if (i === 0) div.classList.add("active");
      div.innerHTML = `
        <p><strong>Q${i + 1}:</strong> ${q[0]}</p>
        <label><input type="radio" name="q${i}" value="a" required> A. ${q[1]}</label>
        <label><input type="radio" name="q${i}" value="b"> B. ${q[2]}</label>
        <label><input type="radio" name="q${i}" value="c"> C. ${q[3]}</label>
        <label><input type="radio" name="q${i}" value="d"> D. ${q[4]}</label>
      `;
      quizDiv.appendChild(div);
    });

    const allQuestions = document.querySelectorAll(".question");

    nextButton.addEventListener("click", () => {
      const currentInputs = allQuestions[currentQuestion].querySelectorAll("input[type=radio]");
      const answered = Array.from(currentInputs).some(input => input.checked);
      if (!answered) {
        alert("Please select an answer before continuing.");
        return;
      }

      const selected = document.querySelector(`input[name=q${currentQuestion}]:checked`).value;
      const map = { a: questions[currentQuestion][5], b: questions[currentQuestion][6], c: questions[currentQuestion][7], d: questions[currentQuestion][8] };
      scores[map[selected]]++;

      allQuestions[currentQuestion].classList.remove("active");
      currentQuestion++;

      if (currentQuestion < allQuestions.length) {
        allQuestions[currentQuestion].classList.add("active");
        progressText.textContent = `Question ${currentQuestion + 1} of 24`;
      } else {
        showResults();
      }
    });

    function showResults() {
      document.getElementById("quizForm").style.display = "none";
      progressText.style.display = "none";
      resultSection.style.display = "block";

      const sorted = Object.entries(scores).sort((a, b) => b[1] - a[1]);
      const labels = sorted.map(s => s[0]);
      const data = sorted.map(s => s[1]);

      new Chart(document.getElementById("resultsChart"), {
        type: 'pie',
        data: {
          labels,
          datasets: [{
            label: 'Intimacy Preferences',
            data,
            backgroundColor: [
              '#FF4D4D', '#4D9DE0', '#FFD166', '#06D6A0', '#118AB2', '#8338EC',
              '#FF6B6B', '#CDB4DB', '#F7B801', '#90BE6D', '#F28482', '#3A86FF'
            ],
          }]
        }
      });

      const breakdown = document.getElementById("resultBreakdown");
      breakdown.innerHTML = `
        <div class="result-block"><strong>Top 4:</strong> ${labels.slice(0, 4).join(", ")}</div>
        <div class="result-block"><strong>Middle 4:</strong> ${labels.slice(4, 8).join(", ")}</div>
        <div class="result-block"><strong>Bottom 4:</strong> ${labels.slice(-4).join(", ")}</div>
      `;
    }
  </script>
</body>
</html>
